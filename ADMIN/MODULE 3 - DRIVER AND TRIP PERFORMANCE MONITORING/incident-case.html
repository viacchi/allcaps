<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Incident Case Management - Logistics II</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="data:,">
</head>
<body class="bg-gray-100 flex justify-center items-center min-h-screen">

  <main class="pt-20 px-6 w-full max-w-7xl mx-auto">
    <!-- Page Header -->
    <div class="w-full px-6 py-6">
      <header class="mb-4 text-center"> 
        <h1 class="text-2xl font-semibold">Incident Case Management</h1>
        <p class="text-gray-600 mt-1">Manage reported deiver incidents</p>
      </header>
    </div>

    <!-- Status Cards -->
<div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
  <!-- Total Cases -->
  <div class="bg-white rounded-lg shadow p-8">
    <div class="flex items-center justify-between">
      <div>
        <h2 class="text-lg font-semibold">Total Cases</h2>
        <p class="text-2xl font-bold mt-2 text-black">4</p>
      </div>
      <div class="text-green-600">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" 
             stroke-width="1.5" stroke="currentColor" class="w-11 h-11">
          <path stroke-linecap="round" stroke-linejoin="round" 
                d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 
                   1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 
                   0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 
                   1.125 1.125h12.75c.621 0 1.125-.504 
                   1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
        </svg>
      </div>
    </div>
  </div>

  <!-- Open Cases -->
  <div class="bg-white rounded-lg shadow p-8">
    <div class="flex items-center justify-between">
      <div>
        <h2 class="text-lg font-semibold">Open Cases</h2>
        <p class="text-2xl font-bold mt-2 text-red-600">2</p>
      </div>
      <div class="text-red-600">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" 
             stroke-width="1.5" stroke="currentColor" class="w-11 h-11">
          <path stroke-linecap="round" stroke-linejoin="round" 
                d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 
                   3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 
                   1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 
                   0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" />
        </svg>
      </div>
    </div>
  </div>

  <!-- Under Investigation -->
  <div class="bg-white rounded-lg shadow p-8">
    <div class="flex items-center justify-between">
      <div>
        <h2 class="text-lg font-semibold">Under Investigation</h2>
        <p class="text-2xl font-bold mt-2 text-yellow-600">1</p>
      </div>
      <div class="text-yellow-600">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" 
             stroke-width="1.5" stroke="currentColor" class="w-11 h-11">
          <path stroke-linecap="round" stroke-linejoin="round" 
                d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 
                   0 9 9 0 0 1 18 0Z" />
        </svg>
      </div>
    </div>
  </div>

  <!-- Closed Cases -->
  <div class="bg-white rounded-lg shadow p-8">
    <div class="flex items-center justify-between">
      <div>
        <h2 class="text-lg font-semibold">Closed Cases</h2>
        <p class="text-2xl font-bold mt-2 text-green-600">1</p>
      </div>
      <div class="text-green-600">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" 
             stroke-width="1.5" stroke="currentColor" class="w-11 h-11">
          <path stroke-linecap="round" stroke-linejoin="round" 
                d="M9 12.75 11.25 15 15 
                   9.75M21 12a9 9 0 1 1-18 
                   0 9 9 0 0 1 18 0Z" />
        </svg>
      </div>
    </div>
  </div>
</div>

    <!-- Search and Add Case -->
    <div class="bg-white rounded-lg shadow overflow-x-auto">
      <div class="flex justify-between p-4">
       <div class="flex items-center border rounded px-2 w-1/3 bg-white">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-5 h-5 text-gray-500">
          <path fill-rule="evenodd" d="M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" clip-rule="evenodd" />
        </svg> 
        <input type="text"
         id="searchInput"
         placeholder="Search by vehicle..."     
           class="px-2 py-2 w-full text-sm outline-none">
      </div>
        <div class="flex gap-2">
          <select id="priorityFilter" class="px-3 py-2 border rounded text-sm">
            <option value="">All Status</option>
            <option value="Open">Open</option>
            <option value="Closed">Closed</option>
            <option value="Under Investigation">Under Investigation</option>
          </select>
          <select id="vehicleFilter" class="px-3 py-2 border rounded text-sm">
            <option value="">All Types</option>
          </select>
        </div>
        <!-- Add Case Button -->
<button onclick="openAddCaseModal()"
  class="flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">
  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
  </svg>
  Add Case
</button>

<!-- Add Case Modal -->
<div id="addCaseModal" 
  class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center overflow-y-auto">
  
  <div class="bg-white rounded-xl shadow-lg w-full max-w-5xl mx-4 my-8 p-6">
    
    <!-- Header -->
    <div class="flex justify-between items-center mb-4">
      <div class="flex items-center gap-2 text-lg font-semibold text-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        Add New Incident Case
      </div>
      <button onclick="closeAddCaseModal()" class="text-gray-500 hover:text-gray-700 text-2xl leading-none">&times;</button>
    </div>

    <!-- Body -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-h-[70vh] overflow-y-auto pr-2">
      
      <!-- Case Information -->
      <div>
        <h3 class="font-semibold text-black-600 mb-2">Case Information</h3>

        <!-- Driver -->
        <label class="block text-sm text-bllack-600">Driver</label>
        <div class="flex items-center border rounded-lg px-3 mb-3">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-400 mr-2" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
          </svg>
          <input type="text" placeholder="Driver name" class="w-full border-none focus:ring-0">
        </div>

        <!-- Vehicle -->
        <label class="block text-sm text-black-600">Vehicle</label>
        <div class="flex items-center border rounded-lg px-3 mb-3">
         <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-400 mr-2" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12" />
        </svg>
          <input type="text" placeholder="Vehicle plate" class="w-full border-none focus:ring-0">
        </div>

        <!-- Incident Type -->
        <label class="block text-sm text-black-600">Incident Type</label>
        <select class="w-full border rounded-lg px-3 py-2 mb-3">
          <option>Traffic Violation</option>
          <option>Accident</option>
          <option>Complaint</option>
        </select>

        <!-- Priority -->
        <label class="block text-sm text-black-600">Priority</label>
        <select class="w-full border rounded-lg px-3 py-2 mb-3">
          <option>Low</option>
          <option>Medium</option>
          <option>High</option>
          <option>Critical</option>
        </select>

        <!-- Incident Date -->
        <label class="block text-sm text-black-600">Incident Date</label>
        <div class="flex items-center border rounded-lg px-3 mb-3">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-400 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
          <input type="date" class="w-full border-none focus:ring-0">
        </div>

        <!-- Location -->
        <label class="block text-sm text-black-600">Location</label>
        <div class="flex items-center border rounded-lg px-3 mb-3">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 text-gray-400 mr-2" >
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z" />
          </svg>
          <input type="text" placeholder="Incident location" class="w-full border-none focus:ring-0">
        </div>

        <!-- Description -->
        <label class="block text-sm text-black-600">Description</label>
        <textarea placeholder="Detailed description of the incident..." class="w-full border rounded-lg px-3 py-2 mb-3"></textarea>

        <!-- Attachments -->
        <label class="block text-sm text-black-600">Attachments</label>
        <div class="border-dashed border-2 border-gray-300 rounded-lg p-6 text-center text-gray-500">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 mx-auto mb-2" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3V15" />
          </svg>
          <p>Click to upload files or drag and drop <br> Images, PDFs and document accepted</p>
        </div>
      </div>

      <!-- Related Information -->
      <div>
        <h3 class="font-semibold text-black-600 mb-2">Related Information</h3>

        <div class="border rounded-lg p-3 mb-3">
          <p class="font-semibold">Driver History</p>
          <p class="text-sm text-gray-500">2 previous incidents</p>
        </div>

        <div class="border rounded-lg p-3 mb-3">
          <p class="font-semibold">Vehicle History</p>
          <p class="text-sm text-gray-500">1 previous incident</p>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="flex justify-end gap-3 mt-6">
      <button onclick="closeAddCaseModal()" class="px-4 py-2 border rounded-lg text-black-600 hover:bg-black-100">Cancel</button>
      <button class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">Create Case</button>
    </div>
  </div>
</div>
         

      </div>

    <!-- Table -->
    <div class="bg-white border border-gray-200 rounded-lg p-4 shadow mt-8">
        <h2 class="text-lg font-semibold mb-3">
          Incident Case Management
        </h2>
        <div class="overflow-x-auto">
          <table class="w-full text-sm bg-white">
            <thead class="bg-green-700 text-white">

            <tr>
              <th class="px-4 py-2 text-left">Case ID</th>
              <th class="px-4 py-2 text-left">Date</th>
              <th class="px-4 py-2 text-left">Driver</th>
              <th class="px-4 py-2 text-left">Type</th>
              <th class="px-4 py-2 text-middle">Status</th>
              <th class="px-4 py-2 text-left">Priority</th>
              <th class="px-4 py-2 text-middle">Actions</th>
            </tr>
          </thead>
          <tbody id="incidentsTable" class="divide-y divide-gray-200"></tbody>
        </table>
      </div>
        </div>
      <div class="flex justify-end mt-4">
      <a href="admin.html"
         class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">
        Exit
      </a>
    </div>
    </main>

  <script>

  const incidents = [
  { id: "INC-001", date: "2024-01-15", driver: "John Smith", type: "Traffic Violation", status: "Open", priority: "High" },
  { id: "INC-002", date: "2024-01-14", driver: "Sarah Johnson", type: "Vehicle Damage", status: "Under Investigation", priority: "Medium" },
  { id: "INC-003", date: "2024-01-12", driver: "Mike Wilson", type: "Safety Violation", status: "Closed", priority: "Critical" },
  { id: "INC-004", date: "2024-01-10", driver: "Lisa Brown", type: "Customer Complaint", status: "Open", priority: "Low" }
];

function statusBadge(status) {
  if (status === "Open") {
    return `
      <span class="flex items-center gap-1 px-2 py-1 rounded text-sm font-medium bg-red-200 text-red-800">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.662 1.732-3L13.732 4c-.77-1.338-2.694-1.338-3.464 0L3.34 16c-.77 1.338.192 3 1.732 3z"/>
        </svg>
        ${status}
      </span>`;
  }
  if (status === "Under Investigation") {
    return `
      <span class="flex items-center gap-1 px-2 py-1 rounded text-sm font-medium bg-yellow-200 text-yellow-800">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        ${status}
      </span>`;
  }
  if (status === "Closed") {
    return `
      <span class="flex items-center gap-1 px-2 py-1 rounded text-sm font-medium bg-green-200 text-green-800">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" 
             stroke-width="1.5" stroke="currentColor"  class="w-5 h-5">
          <path stroke-linecap="round" stroke-linejoin="round" 
                d="M9 12.75 11.25 15 15 
                   9.75M21 12a9 9 0 1 1-18 
                   0 9 9 0 0 1 18 0Z" />
        </svg>
        ${status}
      </span>`;

  }
  return `<span class="px-2 py-1 rounded text-sm bg-gray-200 text-gray-700">${status}</span>`;
}

function priorityBadge(priority) {
  let color = "text-gray-800 font-bold";
  if (priority === "High") color = "text-orange-600 font-bold";
  if (priority === "Medium") color = "text-yellow-600 font-bold";
  if (priority === "Critical") color = "text-red-600 font-bold";
  if (priority === "Low") color = "text-green-600 font-bold";

  return `<span class="${color}">${priority}</span>`;
}


    const caseStats = {
      total: 4,
      open: 2,
      underInvestigation: 1,
      closed: 1
    };

  const tBody = document.getElementById("incidentsTable");

incidents.forEach((inc, idx) => {
  const row = document.createElement("tr");
  row.classList.add("border-b");

  row.innerHTML = `
    <td class="px-4 py-2">${inc.id}</td>

    <!-- Date with calendar icon -->
    <td class="px-4 py-2">
      <div class="flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" 
             stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-gray-700">
          <path stroke-linecap="round" stroke-linejoin="round" 
                d="M6.75 3v2.25M17.25 3v2.25M3.75 
                   8.25h16.5M4.5 21h15a2.25 2.25 0 0 
                   0 2.25-2.25V7.5A2.25 2.25 0 0 
                   0 19.5 5.25h-15A2.25 2.25 0 0 
                   0 2.25 7.5v11.25A2.25 2.25 0 0 
                   0 4.5 21Z" />
        </svg>
        <span>${inc.date}</span>
      </div>
    </td>

    <!-- Driver -->
    <td class="px-4 py-2">
      <div class="flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" 
             fill="currentColor" class="w-6 h-6 text-gray-800">
          <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 
                   14c.618 0 1.093-.561.872-1.139a6.002 
                   6.002 0 0 0-11.215 0c-.22.578.254 
                   1.139.872 1.139h9.47Z" />
        </svg>
        <span>${inc.driver}</span>
      </div>
    </td>

    <td class="px-4 py-2">${inc.type}</td>\
    <td class="px-4 py-2">${statusBadge(inc.status)}</td>
    <td class="px-4 py-2">${priorityBadge(inc.priority)}</td>
      <td class="px-4 py-2">
        <button class="flex items-center gap-1 px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-sm" onclick="viewDetails(${idx})">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /> 
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
          </svg>
            View Details
          </button>
        </td>

        
  `;
  
  tBody.appendChild(row);
});

function viewDetails(idx) {
  const inc = incidents[idx];
  document.getElementById("modalContent").innerHTML =`
  <p><strong>Case ID:</strong> ${inc.id}</p>
   <p><strong>Date:</strong> 
    <span class="inline-flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-5 h-5 text-black-600">
        <path d="M6 1a1 1 0 0 0-1 1v1H3.5A1.5 1.5 0 0 0 2 4.5v9A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 12.5 3H11V2a1 1 0 1 0-2 0v1H7V2a1 1 0 0 0-1-1Z" />
      </svg>
      ${inc.date}
    </span>
  </p>
  <p><strong>Driver:</strong> 
    <span class="inline-flex items-center gap-2">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-5 h-5 text-black-600">
        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"/>
      </svg>
      ${inc.driver}
    </span>
  </p>

  <p><strong>Type:</strong> ${inc.type}</p>
  <p><strong>Status:</strong> 
      <span class="inline-flex items-center gap-2 px-2 py-1 rounded text-white text-sm font-medium
      ${inc.status === "Open" ? "bg-red-600" : 
        inc.status === "Closed" ? "bg-green-600" : 
         "bg-yellow-500" }">
      ${inc.status}
      </span>
 </p>

    <p><strong>Priority:</strong> 
    <span class="font-bold 
      ${inc.priority === "High" ? "text-orange-600" : 
        inc.priority === "Medium" ? "text-yellow-600" : 
        inc.priority === "Critical" ? "text-red-600" : 
        "text-green-600"}">
      ${inc.priority}
    </span>
  </p>

  `;
  // Show modal
  document.getElementById("detailsModal").classList.remove("hidden");
  document.getElementById("detailsModal").classList.add("flex");
}

function closeModal() {
  document.getElementById("detailsModal").classList.add("hidden");
  document.getElementById("detailsModal").classList.remove("flex");
}

function openAddCaseModal() {
  document.getElementById("addCaseModal").classList.remove("hidden");
  document.getElementById("addCaseModal").classList.add("flex");
}

function closeAddCaseModal() {
  document.getElementById("addCaseModal").classList.add("hidden");
  document.getElementById("addCaseModal").classList.remove("flex");
}



    // Update dashboard numbers
    document.getElementById("totalCases").textContent = caseStats.total;
    document.getElementById("openCases").textContent = caseStats.open;
    document.getElementById("underInvestigation").textContent = caseStats.underInvestigation;
    document.getElementById("closedCases").textContent = caseStats.closed;
  </script>


  <!-- FontAwesome for icons -->
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</body>
</html>
